<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="description" content="Ding is a free, open source, lightweight, php framework with several capabilities from the java enterprise world, like bean container, jsr 250 and jsr 330 annotations, inversion of control (IoC), dependency injection (di), aspect oriented programming (), mvc, and several other tools. Much like like symfony, bucket, pico, yadif, phemto, lion, and pimple."/>
	<title>Ding: Internationalization (i18n) support</title>
	
	<style type="text/css">
		body {
  		margin-top: 1.0em;
  		background-color: #f49648;
		  font-family: "Helvetica,Arial,FreeSans";
  		color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
		h1 { font-size: 3.8em; color: #0b69b7; margin-bottom: 3px; }
		h1 .small { font-size: 0.4em; }
		h1 a { text-decoration: none }
		h2 { font-size: 1.5em; color: #0b69b7; }
    h3 { color: #0b69b7; }
    a { color: #0b69b7; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
		pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
	</style>
	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21070993-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>	
</head>

<body>

<H1><u>Internationalization (18n) support</u></H1>
<center>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-6947936742546167";
/* links1 */
google_ad_slot = "7432160740";
google_ad_width = 728;
google_ad_height = 15;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>
<p>
Ding provides i18n functionality, so you can support multiple languages in your application.<br/>
see docs/examples/i18n for a quick example.
</p>
<p>
Suppose you want to ship your application in en_US and es_AR languages. Also, suppose your application
can be divided into 3 big modules:
</p>
<ul>
<li>Customers</li>
<li>Products</li>
<li>Billing</li>
</ul>
<p>
You would need 3 files named like this somewhere in your <b>include_path</b>:
<ul>
<li>customers_es_AR.properties / customers_en_US.properties</li>
<li>products_es_AR.properties / products_en_US.properties</li>
<li>billing_es_AR.properties / billing_en_US.properties</li>
</ul>
</p>
Sample contents for the files:<br/>
customers_es_AR.properties:
<pre>
message.example = "Hola! esto es un argumento {1}"
</pre>
customers_en_US.properties:
<pre>
message.example = "Hello! this is an argument {1}"
</pre>
<h2>Configuring the container</h2>
<p>
Whenever ding finds a bean named "messageSource", it will create it and use it to
resolve messages:
<pre>
    &lt;bean id="messageSource" class="Ding\MessageSource\Impl\MessageSourceImpl" scope="singleton"&gt;
       &lt;property name="basenames"&gt;
           &lt;array&gt;
               &lt;entry key="0"&gt;&lt;value&gt;customers&lt;/value&gt;&lt;/entry&gt;
               &lt;entry key="1"&gt;&lt;value&gt;products&lt;/value&gt;&lt;/entry&gt;
               &lt;entry key="2"&gt;&lt;value&gt;billing&lt;/value&gt;&lt;/entry&gt;
           &lt;/array&gt;
       &lt;/property&gt;
    &lt;/bean&gt;
</pre>
</p>
A <a href="https://github.com/marcelog/Ding/blob/master/src/mg/Ding/MessageSource/Impl/MessageSourceImpl.php">MessageSourceImpl</a> implements the interface <a href="https://github.com/marcelog/Ding/blob/master/src/mg/Ding/MessageSource/IMessageSource.php">IMessageSource</a>:
<pre>
interface IMessageSource
{
    public function getMessage($bundle, $message, array $arguments, $locale);
}
</pre>
<p>
The container implements this interface, so you can call:
<pre>
echo $container->getMessage('products', 'message.example', array('anArgument'), 'en_US');
</pre> 
</p>
<center>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-6947936742546167";
/* 3 */
google_ad_slot = "5936565726";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>
<H2><u>IMessageSourceAware</u></H2><br/>
<p>
Each bean that implements the <a href="https://github.com/marcelog/Ding/blob/master/src/mg/Ding/MessageSource/IMessageSourceAware.php">IMessageSourceAware</a> interface, will be autoinjected with 
the message source in use (the container).
<pre>
interface IMessageSourceAware
{
    public function setMessageSource(IMessageSource $messageSource);
}
</pre> 
</p>
<center>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-6947936742546167";
/* 3 */
google_ad_slot = "5936565726";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>
</body>
</html>