<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="description" content="Ding is a free, open source, lightweight, php framework with several capabilities from the java enterprise world, like bean container, jsr 250 and jsr 330 annotations, inversion of control (IoC), dependency injection (di), aspect oriented programming (), mvc, and several other tools. Much like like symfony, bucket, pico, yadif, phemto, lion, and pimple."/>
	<title>Ding: Resources</title>
	
	<style type="text/css">
		body {
  		margin-top: 1.0em;
  		background-color: #f49648;
		  font-family: "Helvetica,Arial,FreeSans";
  		color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
		h1 { font-size: 3.8em; color: #0b69b7; margin-bottom: 3px; }
		h1 .small { font-size: 0.4em; }
		h1 a { text-decoration: none }
		h2 { font-size: 1.5em; color: #0b69b7; }
    h3 { color: #0b69b7; }
    a { color: #0b69b7; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
		pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
	</style>
	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21070993-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>	
</head>

<body>

<H1><u>Resources</u></H1>
<center>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-6947936742546167";
/* 3 */
google_ad_slot = "5936565726";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>
<H2><u>Introduction</u></H2>
<p>
Resources are just a small abstraction level above the native stream implementation of php. For examples see
docs/examples/resources.
</p>
<p>
 You can get resources directly from the container. Since the container implements <a href="https://github.com/marcelog/Ding/blob/master/src/mg/Ding/Resource/IResourceLoader.php">Ding\Resource\IResourceLoader</a>,
 you can call getStream($path) on it. You can also use resources by yourself, without involving the container.
</p>
<p>
A resource implements <a href="https://github.com/marcelog/Ding/blob/master/src/mg/Ding/Resource/IResource.php">Ding\Resource\IResource</a>.
</p>
<H2><u>Available implementations</u></H2>
<ul>
  <li><u>FilesystemResource</u>: Can be used to get resources for either relative or absolute paths. Can be used with or without the scheme <b>file://</b></li>
  <li><u>IncludePathResource</u>: Can be used to get resources inside the include_path. Can be used with or without the scheme <b>file://</b> and <b>includepath://</b></li>
  <li><u>URLResource</u>: Directly access php supported scheme's. See: <a href="http://www.php.net/manual/en/wrappers.php">http://www.php.net/manual/en/wrappers.php</a>
</ul>
<pre>
$resource = $container->getResource('includepath://somefile.php');
</pre>
Or:
<pre>
$resource = new IncludePathResource('somefile.php');
</pre>
Some other examples:
<pre>
$resource = $container->getResource('zip://file.zip#README.txt');
</pre>
<pre>
$resource = new URLResource('zip://file.zip#README.txt');
</pre>
<pre>
$resource = $container->getResource('file:///some/file/here.txt');
</pre>
<pre>
$resource = new FilesystemResource('file:///some/file/here.txt');
</pre>

<center>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-6947936742546167";
/* 3 */
google_ad_slot = "5936565726";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>
<H2><u>IResourceLoaderAware interface</u></H2>
Implement <a href="https://github.com/marcelog/Ding/blob/master/src/mg/Ding/Resource/IResourceLoaderAware.php">Ding\Resource\IResourceLoaderAware</a> interface in your own beans and they will be automatically injected with the resource loader (the container)
in use.
<H2><u>Resources as dependencies</u></H2>
<p>
You can also declare resources in your bean properties and constructor arguments, like:
<pre>
&lt;beans&gt;
    &lt;bean id="aBean" class="MyBeanClass" scope="singleton"&gt;
        &lt;property name="aResource"&gt;&lt;value&gt;resource://${anUrl}&lt;/value&gt;&lt;/property&gt;
        &lt;property name="aResource2"&gt;&lt;value&gt;resource://includepath://config.php&lt;/value&gt;&lt;/property&gt;
        &lt;constructor-arg&gt;&lt;value&gt;resource://http://www.something.com&lt;/value&gt;&lt;/property&gt;
    &lt;/bean&gt;
&lt;/beans&gt;
</pre>
Ding will autodetect the <b>resource://</b> prefix and return a property of type IResource instead of the string.
</p>
<center>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-6947936742546167";
/* 3 */
google_ad_slot = "5936565726";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>
</body>
</html>